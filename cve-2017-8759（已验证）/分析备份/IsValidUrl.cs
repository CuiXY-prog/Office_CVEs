internal static string IsValidUrl(string value)
{
    if (!System.Runtime.Remoting.Configuration.AppSettings.AllowUnsanitizedWSDLUrls)
    {
        return WsdlParser.TransliterateString(value);
    }

    if (value == null)
    {
        return "\"\"";
    }

    vsb.Length= 0;
    vsb.Append("@\"");
    for (int i=0; i<value.Length; i++) 
    {
        // 没有对换行符进行过滤,导致代码注入
        if (value[i] == '\"')
            vsb.Append("\"\"");
        else
            vsb.Append(value[i]);
    }
    vsb.Append("\"");
    return vsb.ToString();
}